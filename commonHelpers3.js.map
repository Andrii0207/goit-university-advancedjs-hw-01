{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["\nimport throttle from 'lodash.throttle'\n\nconst refs = {\n    form: document.querySelector(\".feedback-form\"),\n    email: document.querySelector(\"input\"),\n    textaria: document.querySelector('textarea')\n}\n\n\nrefs.form.addEventListener(\"input\", throttle(handlerData, 500))\nrefs.form.addEventListener(\"submit\", onSubmit)\n\nconst LS_KEY = \"feedback-form-state\";\nconst formData = {}\n\nreadDataLS()\n\n\nfunction handlerData() {\n    formData[refs.email.name] = refs.email.value\n    formData[refs.textaria.name] = refs.textaria.value\n\n    localStorage.setItem(LS_KEY, JSON.stringify(formData))\n}\n\n\nfunction onSubmit(evt) {\n    evt.preventDefault();\n\n    const formDataInput = evt.currentTarget.elements\n    const inputDataValue = formDataInput.email.value\n    const textariaDataValue = formDataInput.message.value\n\n    if (inputDataValue === \"\" || textariaDataValue === \"\") {\n        alert(\"Please, fill in all fields the form\")\n        return\n    }\n\n    refs.form.reset()\n    localStorage.removeItem(LS_KEY)\n}\n\nfunction readDataLS() {\n    const readDataLS = JSON.parse(localStorage.getItem(LS_KEY))\n\n    if (readDataLS) {\n        refs.textaria.textContent = readDataLS.message || \"\";\n        refs.email.textContent = readDataLS.email || \"\";\n\n        console.log(readDataLS)\n        console.log(\"email >>>\", readDataLS.email)\n        console.log(\"message >>>\", readDataLS.message)\n    }\n}\n\n"],"names":["refs","throttle","handlerData","onSubmit","LS_KEY","formData","readDataLS","evt","formDataInput","inputDataValue","textariaDataValue"],"mappings":"wIAGA,MAAMA,EAAO,CACT,KAAM,SAAS,cAAc,gBAAgB,EAC7C,MAAO,SAAS,cAAc,OAAO,EACrC,SAAU,SAAS,cAAc,UAAU,CAC/C,EAGAA,EAAK,KAAK,iBAAiB,QAASC,EAASC,EAAa,GAAG,CAAC,EAC9DF,EAAK,KAAK,iBAAiB,SAAUG,CAAQ,EAE7C,MAAMC,EAAS,sBACTC,EAAW,CAAE,EAEnBC,EAAY,EAGZ,SAASJ,GAAc,CACnBG,EAASL,EAAK,MAAM,MAAQA,EAAK,MAAM,MACvCK,EAASL,EAAK,SAAS,MAAQA,EAAK,SAAS,MAE7C,aAAa,QAAQI,EAAQ,KAAK,UAAUC,CAAQ,CAAC,CACzD,CAGA,SAASF,EAASI,EAAK,CACnBA,EAAI,eAAc,EAElB,MAAMC,EAAgBD,EAAI,cAAc,SAClCE,EAAiBD,EAAc,MAAM,MACrCE,EAAoBF,EAAc,QAAQ,MAEhD,GAAIC,IAAmB,IAAMC,IAAsB,GAAI,CACnD,MAAM,qCAAqC,EAC3C,MACH,CAEDV,EAAK,KAAK,MAAO,EACjB,aAAa,WAAWI,CAAM,CAClC,CAEA,SAASE,GAAa,CAClB,MAAMA,EAAa,KAAK,MAAM,aAAa,QAAQF,CAAM,CAAC,EAEtDE,IACAN,EAAK,SAAS,YAAcM,EAAW,SAAW,GAClDN,EAAK,MAAM,YAAcM,EAAW,OAAS,GAE7C,QAAQ,IAAIA,CAAU,EACtB,QAAQ,IAAI,YAAaA,EAAW,KAAK,EACzC,QAAQ,IAAI,cAAeA,EAAW,OAAO,EAErD"}