{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["\nimport throttle from 'lodash.throttle';\n\nconst refs = {\n    form: document.querySelector(\".feedback-form\"),\n    email: document.querySelector(\"input\"),\n    textaria: document.querySelector('textarea')\n}\n\n\nrefs.form.addEventListener(\"input\", throttle(handlerData, 500));\nrefs.form.addEventListener(\"submit\", onSubmit);\n\nconst LS_KEY = \"feedback-form-state\";\nlet formData = JSON.parse(localStorage.getItem(LS_KEY)) || {};\n\nreadDataLS();\n\nfunction handlerData(evt) {\n    formData[evt.target.name] = evt.target.value\n    localStorage.setItem(LS_KEY, JSON.stringify(formData))\n};\n\n\nfunction onSubmit(evt) {\n    evt.preventDefault();\n\n    const { email, message } = evt.currentTarget.elements;\n\n    if (email.value === \"\" || message.value === \"\") {\n        alert(\"Please, fill in all fields the form\");\n        return;\n    }\n    refs.form.reset()\n    localStorage.removeItem(LS_KEY);\n    console.log(formData);\n    formData = {};\n}\n\nfunction readDataLS() {\n    const readDataLS = JSON.parse(localStorage.getItem(LS_KEY));\n\n    if (readDataLS) {\n        refs.textaria.value = readDataLS.message || \"\";\n        refs.email.value = readDataLS.email || \"\";\n    };\n};\n\n"],"names":["refs","throttle","handlerData","onSubmit","LS_KEY","formData","readDataLS","evt","email","message"],"mappings":"wIAGA,MAAMA,EAAO,CACT,KAAM,SAAS,cAAc,gBAAgB,EAC7C,MAAO,SAAS,cAAc,OAAO,EACrC,SAAU,SAAS,cAAc,UAAU,CAC/C,EAGAA,EAAK,KAAK,iBAAiB,QAASC,EAASC,EAAa,GAAG,CAAC,EAC9DF,EAAK,KAAK,iBAAiB,SAAUG,CAAQ,EAE7C,MAAMC,EAAS,sBACf,IAAIC,EAAW,KAAK,MAAM,aAAa,QAAQD,CAAM,CAAC,GAAK,GAE3DE,IAEA,SAASJ,EAAYK,EAAK,CACtBF,EAASE,EAAI,OAAO,MAAQA,EAAI,OAAO,MACvC,aAAa,QAAQH,EAAQ,KAAK,UAAUC,CAAQ,CAAC,CACzD,CAGA,SAASF,EAASI,EAAK,CACnBA,EAAI,eAAc,EAElB,KAAM,CAAE,MAAAC,EAAO,QAAAC,CAAO,EAAKF,EAAI,cAAc,SAE7C,GAAIC,EAAM,QAAU,IAAMC,EAAQ,QAAU,GAAI,CAC5C,MAAM,qCAAqC,EAC3C,MACH,CACDT,EAAK,KAAK,MAAO,EACjB,aAAa,WAAWI,CAAM,EAC9B,QAAQ,IAAIC,CAAQ,EACpBA,EAAW,CAAA,CACf,CAEA,SAASC,GAAa,CAClB,MAAMA,EAAa,KAAK,MAAM,aAAa,QAAQF,CAAM,CAAC,EAEtDE,IACAN,EAAK,SAAS,MAAQM,EAAW,SAAW,GAC5CN,EAAK,MAAM,MAAQM,EAAW,OAAS,GAE/C"}